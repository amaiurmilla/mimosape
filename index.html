<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gesti칩n de Alquileres</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1 data-i18n="title">Gesti칩n de Propiedades</h1>
            <div class="controls">
                <select id="language">
                    <option value="es">ES</option>
                    <option value="en">EN</option>
                </select>
                <button id="dark-toggle">游깿</button>
            </div>
        </header>

        <section id="property-selector">
            <label for="property" data-i18n="propertyLabel">Propiedad:</label>
            <select id="property"></select>
            <button id="new-property" data-i18n="newProperty">Nueva Propiedad</button>
        </section>

        <nav id="tabs">
            <button class="tab active" data-target="general" data-i18n="tab-general">Generales</button>
            <button class="tab" data-target="contract" data-i18n="tab-contract">Contrato</button>
            <button class="tab" data-target="supplies" data-i18n="tab-supplies">Suministros</button>
            <button class="tab" data-target="community" data-i18n="tab-community">Comunidad</button>
            <button class="tab" data-target="insurance" data-i18n="tab-insurance">Seguros</button>
            <button class="tab" data-target="repairs" data-i18n="tab-repairs">Reparaciones</button>
            <button class="tab" data-target="profitability" data-i18n="tab-profitability">Rentabilidad</button>
        </nav>

        <section id="general" class="tab-section active">
            <h2 data-i18n="generalSection">Datos Generales</h2>
            <label data-i18n="address">Direcci칩n<input type="text" id="address"></label>
            <label data-i18n="catastro">Referencia Catastral<input type="text" id="catastro"></label>
            <label data-i18n="acquisitionDate">Fecha de Adquisici칩n<input type="date" id="acquisitionDate"></label>
            <label data-i18n="purchasePrice">Precio de Compra<input type="number" id="purchasePrice"></label>
            <label data-i18n="rooms">N칰mero de Habitaciones<input type="number" id="rooms"></label>
            <label data-i18n="description">Descripci칩n<textarea id="description"></textarea></label>
            <label data-i18n="floorPlan">Plano (URL de la imagen)<input type="text" id="floorPlan"></label>
            <label data-i18n="observations">ITE/Observaciones<textarea id="observations"></textarea></label>
        </section>

        <section id="contract" class="tab-section">
            <h2 data-i18n="contractSection">Contrato de Alquiler</h2>
            <label data-i18n="tenantName">Inquilino<input type="text" id="tenantName"></label>
            <label data-i18n="tenantId">DNI/NIE<input type="text" id="tenantId"></label>
            <label data-i18n="tenantContact">Contacto<input type="text" id="tenantContact"></label>
            <label data-i18n="contractStart">Inicio<input type="date" id="contractStart"></label>
            <label data-i18n="contractEnd">Fin<input type="date" id="contractEnd"></label>
            <label data-i18n="monthlyRent">Renta Mensual<input type="number" id="monthlyRent"></label>
            <label data-i18n="paymentMethod">Forma de Pago<input type="text" id="paymentMethod"></label>
            <label data-i18n="deposit">Fianza<input type="number" id="deposit"></label>
            <label data-i18n="annualUpdates">Actualizaciones<input type="text" id="annualUpdates"></label>
        </section>

        <section id="supplies" class="tab-section">
            <h2 data-i18n="suppliesSection">Suministros</h2>
            <h3 data-i18n="electricity">Electricidad</h3>
            <label data-i18n="company">Compa침칤a<input type="text" id="electricCompany"></label>
            <label data-i18n="holder">Titular<input type="text" id="electricHolder"></label>
            <label data-i18n="contractNumber">N췈 Contrato<input type="text" id="electricContract"></label>
            <label data-i18n="startDate">Fecha Alta<input type="date" id="electricDate"></label>
            <label data-i18n="monthlyCost">Coste Mensual<input type="number" id="electricCost"></label>

            <h3 data-i18n="water">Agua</h3>
            <label data-i18n="company">Compa침칤a<input type="text" id="waterCompany"></label>
            <label data-i18n="holder">Titular<input type="text" id="waterHolder"></label>
            <label data-i18n="contractNumber">N췈 Contrato<input type="text" id="waterContract"></label>
            <label data-i18n="startDate">Fecha Alta<input type="date" id="waterDate"></label>
            <label data-i18n="monthlyCost">Coste Mensual<input type="number" id="waterCost"></label>

            <h3 data-i18n="waste">Basuras</h3>
            <label data-i18n="wasteFee">Tasa Municipal<input type="number" id="wasteFee"></label>
            <label data-i18n="wasteFrequency">Frecuencia de Pago<input type="text" id="wasteFrequency"></label>

            <h3 data-i18n="gas">Gas</h3>
            <label data-i18n="company">Compa침칤a<input type="text" id="gasCompany"></label>
            <label data-i18n="holder">Titular<input type="text" id="gasHolder"></label>
            <label data-i18n="contractNumber">N췈 Contrato<input type="text" id="gasContract"></label>
            <label data-i18n="startDate">Fecha Alta<input type="date" id="gasDate"></label>
            <label data-i18n="monthlyCost">Coste Mensual<input type="number" id="gasCost"></label>
        </section>

        <section id="community" class="tab-section">
            <h2 data-i18n="communitySection">Comunidad de Propietarios</h2>
            <label data-i18n="communityFee">Cuota<input type="number" id="communityFee"></label>
            <label data-i18n="ibi">IBI<input type="number" id="ibi"></label>
            <label data-i18n="communityManager">Administrador<input type="text" id="communityManager"></label>
            <label data-i18n="communityContact">Contacto<input type="text" id="communityContact"></label>
            <label data-i18n="communityMinutes">칔ltimas Actas<textarea id="communityMinutes"></textarea></label>
        </section>

        <section id="insurance" class="tab-section">
            <h2 data-i18n="insuranceSection">Seguros</h2>
            <label data-i18n="insuranceCompany">Compa침칤a<input type="text" id="insuranceCompany"></label>
            <label data-i18n="insurancePolicy">P칩liza<input type="text" id="insurancePolicy"></label>
            <label data-i18n="insuranceCoverage">Coberturas<textarea id="insuranceCoverage"></textarea></label>
            <label data-i18n="insurancePremium">Seguro Hogar<input type="number" id="insurancePremium"></label>
            <label data-i18n="tenantInsurance">Seguro Inquilino<input type="number" id="tenantInsurance"></label>
            <label data-i18n="insuranceRenewal">Renovaci칩n<input type="date" id="insuranceRenewal"></label>
        </section>

        <section id="repairs" class="tab-section">
            <h2 data-i18n="repairsSection">Historial de Reparaciones</h2>
            <table id="repairsTable">
                <thead>
                    <tr>
                        <th data-i18n="date">Fecha</th>
                        <th data-i18n="company">Empresa</th>
                        <th data-i18n="description">Descripci칩n</th>
                        <th data-i18n="cost">Coste</th>
                        <th data-i18n="warranty">Garant칤a</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
            <h3 data-i18n="repairsAdd">A침adir Reparaci칩n</h3>
            <label data-i18n="repairDate">Fecha<input type="date" id="repairDate"></label>
            <label data-i18n="repairCompany">Empresa<input type="text" id="repairCompany"></label>
            <label data-i18n="repairDesc">Descripci칩n<input type="text" id="repairDesc"></label>
            <label data-i18n="repairCost">Coste<input type="number" id="repairCost"></label>
            <label data-i18n="repairWarranty">Garant칤a<input type="text" id="repairWarranty"></label>
            <button id="addRepair" data-i18n="addRepairButton">A침adir</button>
        </section>

        <section id="profitability" class="tab-section">
            <h2 data-i18n="profitabilitySection">Rentabilidad Anual</h2>
            <table>
                <thead>
                    <tr>
                        <th data-i18n="income">Ingresos</th>
                        <th data-i18n="expenses">Gastos</th>
                        <th data-i18n="benefit">Beneficio</th>
                        <th data-i18n="profitability">Rentabilidad (%)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr id="profitRow"></tr>
                </tbody>
            </table>
        </section>

        <button id="save" data-i18n="save">Guardar</button>
        <button id="exportExcel" data-i18n="exportExcel">Exportar a Excel</button>
        <footer data-i18n="footer">Datos almacenados en localStorage del navegador</footer>
    </div>

    <script src="https://cdn.sheetjs.com/xlsx-0.19.2/package/dist/xlsx.full.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
